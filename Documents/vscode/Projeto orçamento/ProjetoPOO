import csv

class Imovel:
    def __init__(self, tipo, quartos=0, garagem=False, vagas_extra=0, criancas=True):
        self.tipo = tipo
        self.quartos = quartos
        self.garagem = garagem
        self.vagas_extra = vagas_extra
        self.criancas = criancas
        self.valor_base = self.calcular_valor_base()
    
    def calcular_valor_base(self):
        valor = 0
        if self.tipo == "apartamento":
            valor = 700
            if self.quartos == 2:
                valor += 200
            if self.garagem:
                valor += 300
            if not self.criancas:
                valor -= valor * 0.05

        elif self.tipo == "casa":
            valor = 900
            if self.quartos == 2:
                valor += 250
            if self.garagem:
                valor += 300

        elif self.tipo == "estudio":
            valor = 1200
            valor += self.vagas_extra * 60
        
        return valor

class Orcamento:
    def __init__(self, imovel, valor_contrato=2000, parcelas=5):
        self.imovel = imovel
        self.valor_contrato = valor_contrato
        self.parcelas = parcelas

    def gerar_csv(self):
        parcelas = [["Mes", "Valor do Aluguel (R$)"]]
        for i in range(1, 13):
            parcelas.append([f"Mes {i}" "-" f"R$:{self.imovel.valor_base:.2f}"])
        with open("orcamento.csv", "w", newline="") as file:
            writer = csv.writer(file)
            writer.writerows(parcelas)
        print("\nArquivo 'orcamento.csv' gerado com sucesso!")

print("=== SISTEMA DE ORÇAMENTO DE ALUGUEL - IMOBILIÁRIA R.M ===")
tipo = input("Tipo de imóvel (apartamento / casa / estudio): ").strip().lower()

if tipo not in ["apartamento", "casa", "estudio"]:
    print("Tipo inválido! Encerrando.")
    exit()

quartos = 0
if tipo in ["apartamento", "casa"]:
    quartos = int(input("Quantos quartos (1 ou 2): "))

garagem = input("Deseja garagem? (s/n): ").strip().lower() == "s"
criancas = input("Possui crianças? (s/n): ").strip().lower() == "s"
vagas_extra = int(input("Quantas vagas extras? (0 se nenhuma): ")) if tipo == "estudio" else 0

imovel = Imovel(tipo, quartos, garagem, vagas_extra, criancas)
orcamento = Orcamento(imovel)

print(f"\nValor mensal: R$ {imovel.valor_base:.2f}")
print(f"Contrato total: R$ {orcamento.valor_contrato:.2f}")
orcamento.gerar_csv()
